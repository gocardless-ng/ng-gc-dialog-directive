"use strict";angular.module("gc.backdrop",[]).directive("backdrop",["$window",function(a){return{controller:function(b){this.backdrop=new a.Dialog.Backdrop({el:b[0]})}}}]),angular.module("gc.dialogController",[]).controller("DialogController",["$scope","$element","$attrs","$location",function(a,b,c,d){a.dialog={},a.hideDialog=function(){a.$root.$$phase?a.show=!1:a.$apply(function(){a.show=!1})},a.$watch(function(){return d.url()},function(b,c){b!==c&&a.hideDialog()}),a.$watch("show",function(b){b?a.dialog.show():a.dialog.hide()}),a.$on("$destroy",function(){a.dialog.remove()})}]),angular.module("gc.dialog",["gc.backdrop","gc.dialogController","dialog-template.html","dialog-empty-template.html"]).directive("dialog",["$rootScope","$window","$timeout","$animate",function(a,b,c,d){var e=b.Dialog,f="dialog-template.html",g="dialog-empty-template.html";return{restrict:"E",templateUrl:function(a,b){var c=b.templateUrl;return"empty"===c?g:c||f},replace:!0,transclude:!0,require:"^backdrop",controller:"DialogController",scope:{title:"@",cancelText:"@",onHide:"&",show:"=",options:"&"},link:function(b,c,f,g){function h(a){if(c[0]&&!c[0].contains(a.target)){var b="is-pulsing";d.addClass(c,b),setTimeout(function(){d.removeClass(c,b)},500)}}var i={preventHideOnClick:!0},j=angular.extend({},i,b.options());b.dialog=new e(j),b.dialog.append(c[0]),b.backdrop=g.backdrop,a.$on("closeDialog",b.hideDialog),b.dialog.on(e.HIDE,function(){document.removeEventListener("click",h,!0),b.onHide(),b.backdrop.hide(),b.hideDialog()}).on(e.SHOW,function(){b.backdrop.show(),document.addEventListener("click",h,!0)})}}}]),angular.module("gc.dialogHandler",[]).factory("DialogHandler",["$rootScope",function(a){return{hide:function(){a.$emit("closeDialog")}}}]),angular.module("dialog-empty-template.html",[]).run(function(a){a.put("dialog-empty-template.html",'<div class="dialog__inner dialog__inner--empty" ng-transclude=""></div>')}),angular.module("dialog-template.html",[]).run(function(a){a.put("dialog-template.html",'<div class="dialog-wrapper"><div class="dialog__header center-header"><div class="center-header__side"><button class="dialog__header__close btn btn--small btn--hollow" ng-click="hideDialog()">{{ cancelText || \'Cancel\' }}</button></div><div class="center-header__title"><h1 class="dialog__header__title u-text-h4" id="dialog-title">{{ title }}</h1></div><div class="center-header__side"></div></div><div class="dialog__inner" ng-transclude=""></div></div>')});